{% extends "base.html" %}

{% block content %}
    <div>
        {% if not object_list %}
            <h2>No tasks yet!</h2>
        {% else %}
            <div class="table-responsive">
                <h2>Tasks</h2>
                <table id="datatable" class="table table-striped table-bordered table-hover">
                    <thead class="thead-dark">
                        <tr>
    {#                        <th scope="col">Id</th>#}
                            <th scope="col">Name</th>
                            <th scope="col">Description</th>
                            <th scope="col">Start date</th>
                            <th scope="col">Created at</th>
                            <th scope="col">Modified at</th>
                            <th scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for task in object_list %}
                            <tr>
    {#                            <td> {{task.id}} </td>#}
                                <td> {{task.name}} </td>
                                <td> {{task.description}} </td>
                                <td> {{task.start_date}} </td>
                                <td> {{task.created_at}} </td>
                                <td> {{task.modified_at}} </td>
                                <td>
                                    <a class="btn btn-primary mr-4" href="{% url 'task-update' task.id%}">Edit</a>
                                    <a class="btn btn-info" href="{{task.get_absolute_url}}">Details</a>
                                    <a class="btn btn-danger" href="{% url 'task-delete' task.id%}">Delete</a>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% endif %}
        <p><a class="btn btn-primary" href="{% url 'task-add'%}">Add a new task</a></p>
    </div>
{% endblock %}